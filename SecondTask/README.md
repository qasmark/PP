**Лабораторная работа №2.**

**Параллельная обработка непересекающихся данных**

**Цели и задачи**

-Познакомиться с метриками параллельных программ, исследовать зависимость метрик от количества доступных ядер, количества потоков.

**Постановка задачи**

Реализовать программу, которая читает входной bmp файл, выполняет эффект размытия и сохраняет картинку в другой файл. Обработка изображения выполняется в потоках. При реализации использовать один из трех вариантов (номер варианта – по списку группы) деления обрабатываемых данных. Алгоритм эффекта размытия можно выбрать самостоятельно. 

**Варианты заданий для программы в параллельном исполнении**

1.	Горизонтальное деление данных (матрица пикселей делится на горизонтальные полосы по количеству потоков).

2.	Вертикальное деление данных (матрица пикселей делится на вертикальные полосы по количеству потоков).

3.	Деление данных квадратами (матрица пикселей делится на квадраты. Количество квадратов ровно N2, где N – количество потоков). Каждый поток обрабатывает N произвольных квадратов.

**Требования**

1.	Программа должна быть реализована в виде консольного приложения и использовать Windows SDK, язык программирования – С++. Имена входного и выходного bmp-файла указываются в качестве параметров командной строки.

2.	Количество потоков выполнения и количество ядер, на которых разрешена обработка, должны передаваться в командной строке. 

3.	После завершения программа и в последовательном, и в параллельном вариантах должна выдавать время в миллисекундах своей работы. Время должно учитывать открытие файла и сохранение файла. В случае слишком быстрого выполнения программы применять функцию размытия в цикле несколько раз. Подогнать время выполнения программы в интервале 0.5 – 1 секунда.

4.	Построить в Excel графики указанных ниже параметров в зависимости от количества потоков [1;16]. Графики построить для однопроцессорной, двухпроцессорной, трехпроцессорной и четырехпроцессорной системы. Количество процессоров можно эмулировать при помощи функции SetAffinityMask. Всего у вас должно получиться 12 графиков.

a.	Время выполнения (TN, где N – количество потоков)

b.	Ускорение (SN = T1 / TN)

c.	Эффективность распараллеливания (EN = SN / N, где N – количество потоков).

5.	Выложить исходник на GitHub. Ссылку на репозиторий выложить в группу в VK. Репозиторий должен содержать исходники и исполняемые файлы, собранные в release режиме. В файл read.me репозитория положить ссылку на электронную таблицу в формате google sheet документ. Название документа ПП_[год]_ПС-[ваша группа]-[Фамилия]. В документе должны быть:

a.	Графики

b.	Выводы. Объяснить линейный или нелинейный вид зависимости, по полученным графикам.
